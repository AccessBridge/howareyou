"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[407],{75364:function(pe,B,n){n.r(B),n.d(B,{default:function(){return oe}});var G=n(78095),P=n.n(G),O=n(34827),F=n.n(O),z=n(53939),u=n.n(z),J=n(83134),v=n.n(J),K=n(2329),V=n(91446),W=n(69294),Y=n(45058),R=n(28941),H=n(36704),w=n(72223),Q=n(41003),y=n(82702),X=n(49990),$=n(64401),e=n(97616),k=function(r){var d=r.modalVisible,h=r.onCancel;return(0,e.jsx)($.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",width:420,open:d,onCancel:function(){return h()},footer:null,children:r.children})},q=k,j=n(94883),_=n(87918),ee=n(97024),A=n(70372),ne=n(81898),te=n(64576),re=function(r){return(0,e.jsxs)(j.L0,{stepsProps:{size:"small"},stepsFormRender:function(h,t){return(0,e.jsx)($.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89C4\u5219\u914D\u7F6E",open:r.updateModalVisible,footer:t,onCancel:function(){return r.onCancel()},children:h})},onFinish:r.onSubmit,children:[(0,e.jsxs)(j.L0.StepForm,{initialValues:{name:r.values.name},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,e.jsx)(_.Z,{width:"md",name:"name",label:"\u89C4\u5219\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"}]}),(0,e.jsx)(ee.Z,{name:"desc",width:"md",label:"\u89C4\u5219\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01",min:5}]})]}),(0,e.jsxs)(j.L0.StepForm,{initialValues:{target:"0",template:"0"},title:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027",children:[(0,e.jsx)(A.Z,{width:"md",name:"target",label:"\u76D1\u63A7\u5BF9\u8C61",valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,e.jsx)(A.Z,{width:"md",name:"template",label:"\u89C4\u5219\u6A21\u677F",valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,e.jsx)(ne.Z.Group,{name:"type",width:"md",label:"\u89C4\u5219\u7C7B\u578B",options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,e.jsxs)(j.L0.StepForm,{initialValues:{type:"1",frequency:"month"},title:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F",children:[(0,e.jsx)(te.Z,{name:"time",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"}]}),(0,e.jsx)(A.Z,{name:"frequency",label:"\u76D1\u63A7\u5BF9\u8C61",width:"xs",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},ae=re,ue=function(){var m=v()(u()().mark(function r(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(f){setTimeout(function(){f({data:{list:[{id:1,name:"John Doe",address:"123 Main St",gender:0,phoneNumber:"123-456-7890"},{id:2,name:"Jane Smith",address:"456 Elm St",gender:1,phoneNumber:"987-654-3210"}]},success:!0})},500)}));case 1:case"end":return t.stop()}},r)}));return function(d){return m.apply(this,arguments)}}(),se=function(){var m=v()(u()().mark(function r(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(f){setTimeout(function(){R.ZP.success("Resident added successfully!"),f(!0)},500)}));case 1:case"end":return t.stop()}},r)}));return function(d){return m.apply(this,arguments)}}(),le=function(){var m=v()(u()().mark(function r(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(f){setTimeout(function(){R.ZP.success("Resident updated successfully!"),f(!0)},500)}));case 1:case"end":return t.stop()}},r)}));return function(d){return m.apply(this,arguments)}}(),ie=function(){var m=v()(u()().mark(function r(d){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(f){setTimeout(function(){R.ZP.success("Residents deleted successfully!"),f()},500)}));case 1:case"end":return t.stop()}},r)}));return function(d){return m.apply(this,arguments)}}(),de=function(){var r=(0,y.useState)(!1),d=F()(r,2),h=d[0],t=d[1],f=(0,y.useState)(!1),M=F()(f,2),ce=M[0],E=M[1],me=(0,y.useState)({}),D=F()(me,2),T=D[0],Z=D[1],C=(0,y.useRef)(),fe=(0,y.useState)(),L=F()(fe,2),o=L[0],ve=L[1],he=(0,y.useState)([]),I=F()(he,2),S=I[0],N=I[1],b=[{title:"Name",dataIndex:"name",tip:"Name is a unique key",formItemProps:{rules:[{required:!0,message:"Name is required"}]}},{title:"Address",dataIndex:"address",valueType:"text"},{title:"Gender",dataIndex:"gender",hideInForm:!0,valueEnum:{0:{text:"Male",status:"MALE"},1:{text:"Female",status:"FEMALE"}}},{title:"Phone Number",dataIndex:"phoneNumber",valueType:"text"},{title:"Actions",dataIndex:"option",valueType:"option",render:function(s,a){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:function(){E(!0),Z(a)},children:"Edit"}),(0,e.jsx)(H.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){X.history.push("/residents/".concat(a.id))},children:"View Details"})]})}}];return(0,e.jsxs)(K._z,{style:{padding:"8px"},header:{title:"Elderly residents staying near you"},children:[(0,e.jsx)(V.Z,{headerTitle:"Residents List",actionRef:C,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsx)(w.ZP,{type:"primary",onClick:function(){return t(!0)},children:"Add Resident"},"1")]},request:function(){var l=v()(u()().mark(function s(a,c,p){var i,g,U;return u()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,ue(P()(P()({},a),{},{sorter:c,filter:p}));case 2:return i=x.sent,g=i.data,U=i.success,x.abrupt("return",{data:(g==null?void 0:g.list)||[],success:U});case 6:case"end":return x.stop()}},s)}));return function(s,a,c){return l.apply(this,arguments)}}(),columns:b,rowSelection:{onChange:function(s,a){return N(a)}}}),(S==null?void 0:S.length)>0&&(0,e.jsxs)(W.S,{extra:(0,e.jsxs)("div",{children:["Selected"," ",(0,e.jsx)("a",{style:{fontWeight:600},children:S.length})," ","items\xA0\xA0"]}),children:[(0,e.jsx)(w.ZP,{onClick:v()(u()().mark(function l(){var s,a;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ie(S);case 2:N([]),(s=C.current)===null||s===void 0||(a=s.reloadAndRest)===null||a===void 0||a.call(s);case 4:case"end":return p.stop()}},l)})),children:"Batch Delete"}),(0,e.jsx)(w.ZP,{type:"primary",children:"Batch Approve"})]}),(0,e.jsx)(q,{onCancel:function(){return t(!1)},modalVisible:h,children:(0,e.jsx)(V.Z,{onSubmit:function(){var l=v()(u()().mark(function s(a){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,se(a);case 2:c=i.sent,c&&(t(!1),C.current&&C.current.reload());case 4:case"end":return i.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:b})}),T&&Object.keys(T).length?(0,e.jsx)(ae,{onSubmit:function(){var l=v()(u()().mark(function s(a){var c;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,le(a);case 2:c=i.sent,c&&(E(!1),Z({}),C.current&&C.current.reload());case 4:case"end":return i.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),onCancel:function(){E(!1),Z({})},updateModalVisible:ce,values:T}):null,(0,e.jsx)(Q.Z,{width:600,open:!!o,onClose:function(){ve(void 0)},closable:!1,children:(o==null?void 0:o.name)&&(0,e.jsx)(Y.vY,{column:2,title:o==null?void 0:o.name,request:v()(u()().mark(function l(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:o||{}});case 1:case"end":return a.stop()}},l)})),params:{id:o==null?void 0:o.name},columns:b})})]})},oe=de}}]);
