"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[459],{76177:function(Q,j,t){t.r(j),t.d(j,{default:function(){return w}});var O=t(78095),Z=t.n(O),I=t(53939),P=t.n(I),b=t(83134),D=t.n(b),V=t(34827),F=t.n(V),W=t(36439),a=t(49990),H=t(5472),T=t(40672),l=t(36948),r=t(28941),S=t(28179),A=t(56511),f=t(33404),L=t(73042),N=t(55454),g=t(72223),G=t(82702),e=t(97616),B=function(n){var v=n.options,i=v===void 0?[]:v,h=n.value,m=h===void 0?"":h,d=n.onChange;return(0,e.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:i.map(function(o){return(0,e.jsx)(g.ZP,{type:m===o.value?"primary":"default",onClick:function(){return d==null?void 0:d(o.value)},children:o.label},o.value)})})},U=B,$=H.Z.TextArea,u=T.Z.Text,E=T.Z.Title,M=function(n){return console.log("Upload event:",n),Array.isArray(n)?n:n==null?void 0:n.fileList},k=function(){var n=l.Z.useForm(),v=F()(n,1),i=v[0],h=(0,G.useState)(!0),m=F()(h,2),d=m[0],o=m[1];(0,G.useEffect)(function(){R()},[i]);var R=function(){var c=D()(P()().mark(function s(){var p;return P()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:o(!0);try{p={id:1,elderlyCode:"WL-8829",aacCode:"AAC-123162",name:"Goh Seok Meng",address:"Woodlands Drive 62, #02-144, S623182",contact:81234567,nok:[{name:"David Goh",relationship:"Son",contact:91234567}],notes:"Goh Seok Meng lives alone on weekdays, can only speak Hokkien, and has difficulty walking. She does not mind having pictures taken.",languages:["Hokkien"],attachments:[],visits:[{datetime:"09-10-2024 20:00",visitor:{id:99,name:"David",role:"public"},location:"Home",attachments:[],notes:"All good."},{datetime:"09-08-2024 17:00",visitor:{id:2,name:"David Hiong",role:"volunteer"},location:"Woodlands Hawker Centre",attachments:[],notes:"Saw auntie at Woodlands Hawker Centre, she's doing well"}]},setTimeout(function(){console.log("Fake data fetched")},1e3),i.setFieldsValue(p)}catch(q){r.ZP.error("Failed to fetch data")}finally{console.log("FINALLY"),o(!1)}case 2:case"end":return y.stop()}},s)}));return function(){return c.apply(this,arguments)}}(),x=(0,a.useAccess)(),z=(0,a.useParams)(),J=function(s){console.log("Form values:",s),r.ZP.success("Form submitted successfully!"),a.history.push("/residents")},Y=function(){a.history.push("/residents/".concat(z.id))},K={action:"https://jsonplaceholder.typicode.com/posts/",listType:"picture-card",beforeUpload:function(s){var p=s.type==="image/jpeg"||s.type==="image/png";return p?!0:(r.ZP.error("You can only upload JPG/PNG file!"),S.Z.LIST_IGNORE)},onChange:function(s){s.file.status==="done"?r.ZP.success("".concat(s.file.name," file uploaded successfully")):s.file.status==="error"&&r.ZP.error("".concat(s.file.name," file upload failed."))}};return(0,e.jsx)(a.Access,{accessible:x.isVolunteer||x.isPublic,children:(0,e.jsx)(A.Z,{justify:"center",style:{marginTop:"24px"},children:(0,e.jsx)(f.Z,{xs:22,sm:20,md:16,lg:12,children:(0,e.jsxs)(L.Z,{direction:"vertical",size:24,style:{width:"100%"},children:[(0,e.jsx)(E,{level:3,style:{marginBottom:"0px"},children:"Register Visit"}),(0,e.jsx)(a.Access,{accessible:x.isVolunteer,children:(0,e.jsx)(N.Z,{style:{width:"100%"},bodyStyle:{padding:"16px"},loading:d,children:(0,e.jsxs)(A.Z,{gutter:16,align:"middle",children:[(0,e.jsx)(f.Z,{xs:8,sm:6,md:6,lg:6,xl:5,children:(0,e.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"100%",overflow:"hidden",borderRadius:"8px"},children:(0,e.jsx)("img",{src:"https://www.josejeuland.com/wp-content/uploads/2022/11/DSF6022.jpg",alt:"Profile",style:{position:"absolute",top:"50%",left:"50%",width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",transform:"translate(-50%, -50%)"}})})}),(0,e.jsxs)(f.Z,{xs:16,sm:18,md:18,lg:18,xl:19,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(u,{strong:!0,style:{fontSize:"16px"},children:"Goh Seok Meng"}),(0,e.jsx)("br",{}),(0,e.jsx)(u,{type:"secondary",children:"Woodlands Drive 62, #02-144, S623182"})]}),(0,e.jsx)("div",{style:{marginTop:"8px"},children:(0,e.jsx)(g.ZP,{type:"primary",onClick:Y,children:"View Profile"})})]})]})})}),(0,e.jsxs)(l.Z,{form:i,layout:"vertical",onFinish:J,children:[(0,e.jsx)(l.Z.Item,{label:(0,e.jsx)("span",{style:{fontWeight:"bold"},children:"How is he/she doing?"}),name:"status",rules:[{required:!0,message:"Please select an option"}],children:(0,e.jsx)(U,{options:[{value:"good",label:"GOOD"},{value:"notGood",label:"NOT GOOD"},{value:"notAround",label:"NOT AROUND"}]})}),(0,e.jsx)(l.Z.Item,{label:(0,e.jsx)("span",{style:{fontWeight:"bold"},children:"Any comments or observations?"}),name:"comments",children:(0,e.jsx)($,{rows:4})}),(0,e.jsx)(l.Z.Item,{label:(0,e.jsxs)("div",{children:[(0,e.jsx)(u,{strong:!0,children:"Any photos to share?"}),(0,e.jsx)("div",{children:(0,e.jsx)(u,{type:"secondary",children:"Optional. Seek their consent, and be respectful."})})]}),name:"upload",valuePropName:"fileList",getValueFromEvent:M,children:(0,e.jsx)(S.Z,Z()(Z()({},K),{},{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(W.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}))}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsx)(g.ZP,{type:"primary",htmlType:"submit",block:!0,children:"Submit"})})]})]})})})})},w=k}}]);
